<template>
  <textarea v-model="mdText" style="min-height: 300px; width: 100%;"/>
  <div class="md-content yue" v-html="mdHtml"/>
</template>

<script lang="ts">
import {defineComponent} from 'vue'
import {MaxerMarkdownIt} from '@/utils/MaxerMarkdownIt';

export default defineComponent({
  name: "MDContent",
  setup(){
    //åˆå§‹åŒ–
    // åˆå§‹åŒ–marked
    return {
      md: MaxerMarkdownIt.getInstance()
    }
  },
  data() {
    return {
      mdText: '```java\n' +
          'public static void main(String[] args){\n' +
          '    System.out.println("hello world");\n' +
          '}\n' +
          '```' + `\n### æµ‹è¯•æ ‡é¢˜\n## æµ‹è¯•\n[maxertip]assd[/maxertip]` + '\n> æµ‹è¯• æµ‹è¯•' +
          '\næµ‹è¯•'+'\n\nhttps://www.imsle.com *æ–œä½“æµ‹è¯•* **åŠ ç²—æµ‹è¯•** `ä»£ç å—æµ‹è¯•`'+'' +
          '\n## æµ‹è¯•æ ‡é¢˜2\n\næµ‹è¯•å†…å®¹\n## æ ‡é¢˜3\nå†…å®¹å†…å®¹\n> 123456\n## æµ‹è¯•æ ‡é¢˜\nå†…å®¹æ–‡æœ¬ å“¦å“¦å“¦ é¸¡å…¬ ğŸ“ğŸ”é¾š',
      mdHtml: '',
    }
  },
  mounted() {
    this.mdHtml = this.md.render(this.mdText as string);
  },
  watch:{
    mdText(){
      //
      this.mdHtml = this.md.render(this.mdText);
    }
  }
})
</script>

<style lang="scss" scoped>
@import "src/assets/scss/maxer.variables";
.md-content{
  ::v-deep{
    pre{
      padding: 15px;
      padding-left: 30px;
      margin: 0 -15px;
      background-color: #343a40;
      code{
        color: #fff;
        font-size: 14px;
        font-family: $maxer-code-font-family;
      }

    }
  }
}
</style>